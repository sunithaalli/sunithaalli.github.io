define(["exports","preact/jsx-runtime","preact/hooks","./hooks/UNSAFE_useId",'css!./UNSAFE_Collapsible.css',"./utils/UNSAFE_classNames","./UNSAFE_Flex","./index-e072ff93","./classNames-b3be51c1","./index-6d0068fd","./Flex-40c710fc","./hooks/UNSAFE_useAnimation","./tslib.es6-44d49373","./utils/UNSAFE_interpolations/dimensions","./utils/UNSAFE_arrayUtils","./utils/UNSAFE_size","./utils/UNSAFE_stringUtils","./stringUtils-5947815e","./_curry1-f1c75636","./utils/UNSAFE_mergeInterpolations","./_curry2-63a708f9","./_has-491b2156","./utils/UNSAFE_interpolations/boxalignment","./keys-1886315d","./utils/UNSAFE_interpolations/flexbox","./flexbox-937ddde3","./utils/UNSAFE_interpolations/flexitem","./flexitem-6444aa08","./UNSAFE_Icon","./Icon-93ea9369","./hooks/UNSAFE_useUser","./UNSAFE_Environment","preact","./UNSAFE_Layer","preact/compat","./hooks/UNSAFE_useTheme"],(function(e,n,i,s,t,o,d,a,l,c,r,u,x,m,p,g,h,b,E,f,j,S,_,N,U,A,F,I,v,k,y,O,H,C,D,T){"use strict";const z="b1gp27yz",$="d1mpodss",w=({contentId:e,isDisabled:i,headerId:s,isExpanded:t,onClick:o})=>{const d=l.classNames([z,i&&$]),r=t?c.SvgIcoChevronDown:a.CollapseIcon;return n.jsx("button",Object.assign({class:d,"aria-labelledby":s,"aria-controls":e,"aria-expanded":t,onClick:o},{children:n.jsx(r,{size:"6x"})}))},R="bchzlky",Y="dxflc5a",L=({children:e,id:i,contentId:s,isDisabled:t,isExpanded:o,toggleHandler:d})=>{const a=l.classNames([R,t&&Y]);return n.jsx("div",Object.assign({id:i,class:a,onClick:d},{children:n.jsxs(r.Flex,Object.assign({align:"center"},{children:[n.jsx(w,{isDisabled:t,headerId:i,contentId:s,isExpanded:o}),e]}))}))},M=({children:e,id:s,isExpanded:t,onTransitionEnd:o})=>{const[d,a]=i.useState(t?"mounted":"unmounted"),[l,c]=i.useState(t),r=t!==l||["mounting","unmounting"].includes(d);i.useEffect((()=>{r&&a(t?"mounting":"unmounting")}),[t,r]);const{nodeRef:x}=u.useAnimation(["mounted","mounting"].includes(d)?"expanded":"collapsed",{animationStates:P,onAnimationEnd:({animationState:e})=>{const n="expanded"===e;a(n?"mounted":"unmounted"),c(n),null==o||o()}});return n.jsx("div",Object.assign({ref:x,id:s,tabIndex:-1,"aria-hidden":!t||void 0},{children:(r||"mounted"===d)&&e}))},P={expanded:e=>({to:{maxHeight:`${e.scrollHeight}px`,overflowY:"hidden"},options:{duration:400},end:{maxHeight:"none"}}),collapsed:e=>Object.assign(Object.assign({},"none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`}}),{to:{overflowY:"hidden",maxHeight:"0"},options:{duration:400}})};e.Collapsible=({id:e,header:t,children:o,isDisabled:d=!1,isExpanded:a=!1,onToggle:l,onTransitionEnd:c})=>{const r=i.useRef(null),u=s.useId(),x=`oj-collapsible-header-${u}`,m=`oj-collapsible-content-${u}`;return n.jsxs("div",Object.assign({id:e,ref:r},{children:[n.jsx(L,Object.assign({id:x,contentId:m,toggleHandler:()=>{d||null==l||l({value:!a})},isDisabled:d,isExpanded:a},{children:t})),n.jsx(M,Object.assign({id:m,isExpanded:a,onTransitionEnd:()=>{null==c||c({value:a})}},{children:o}))]}))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Collapsible.js.map
